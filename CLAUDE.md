# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Development Commands

### Development Server
```bash
pnpm install       # Install dependencies
pnpm dev           # Start dev server on port 3000
```

### Building & Deployment
```bash
pnpm build         # Build for production
pnpm serve         # Preview production build
pnpm deploy        # Deploy to Cloudflare Workers
```

### Code Quality
```bash
pnpm lint          # Run Biome linter
pnpm format        # Format code with Biome
pnpm check         # Run both linting and formatting checks
pnpm test          # Run tests with Vitest
```

## Project Architecture

This is **Supchuck** - a playful and mischievous website built with TanStack Start and deployed to Cloudflare Workers.

### Design Philosophy
Supchuck is designed to be playful and mischievous with a hand-drawn, rough aesthetic:
- **Layout**: Narrow, single-column design with stacked content boxes
- **Typography**: Google Fonts - Unkempt (titles/accents) and Comic Relief (body text)
- **Colors**:
  - Light Green: #60BA46
  - Dark Orange: #DC5F00
  - Light Orange: #FA9D01
  - Candy Red: #C80109
  - Gray: #6B7768
  - White and Black as needed
- **Visual Style**: Hand-drawn images and borders for a playful, organic feel

### Core Stack
- **Framework**: TanStack Start (React + TanStack Router)
- **Runtime**: Cloudflare Workers (nodejs_compat enabled)
- **Build Tool**: Vite 7
- **Styling**: Tailwind CSS v4 with Google Fonts (Unkempt & Comic Relief)
- **Testing**: Vitest + Testing Library
- **Code Quality**: Biome (linting & formatting with tab indentation)

### Key Architecture Patterns

#### File-Based Routing
Routes are managed as files in `src/routes/`. The router is auto-generated in `src/routeTree.gen.ts` - **do not edit this file manually**.

- `src/routes/__root.tsx` - Root layout component with header, footer, and shell document structure
- `src/routes/index.tsx` - Home page with content sections
- Route files use `createFileRoute()` from `@tanstack/react-router`

#### Server Functions
Server functions allow calling server-side code from client components with type safety:

```typescript
const serverFunction = createServerFn({ method: 'GET' })
  .handler(async () => {
    // Server-side only code
    return await someServerOperation()
  })
```

Server functions can be:
- Called from loaders: `loader: async () => await serverFunction()`
- Called from client: `onClick={async () => await serverFunction()}`

#### API Routes
API endpoints are defined using the `server.handlers` pattern in route files:

```typescript
export const Route = createFileRoute('/api/endpoint')({
  server: {
    handlers: {
      GET: () => json(data),
      POST: async ({ request }) => { /* handle */ },
    },
  },
})
```

API routes are co-located with page routes in the `src/routes/` directory.

### Project Structure

```
src/
├── components/       # React components (e.g., NotFound.tsx)
├── lib/             # Utility functions (e.g., seo.ts)
├── routes/          # File-based routes (TanStack Router)
├── router.tsx       # Router configuration
├── routeTree.gen.ts # Auto-generated route tree (DO NOT EDIT)
└── styles.css       # Global Tailwind styles with Google Fonts
public/
└── images/          # Hand-drawn images (header.png, logo.png, border.png, blaze.png)
```

### Path Aliases
The project uses `@/*` path alias mapping to `./src/*` (configured in tsconfig.json and vite-tsconfig-paths).

### Styling Conventions
- Uses Tailwind CSS v4 with `@tailwindcss/vite` plugin
- Google Fonts: Unkempt (font-unkempt) and Comic Relief (font-comic-relief)
- Theme colors configured in Tailwind: light-green, dark-orange, light-orange, candy-red, supchuck-gray
- Biome enforces **tab indentation** and **double quotes**
- Files excluded from Biome: `src/routeTree.gen.ts`, `src/styles.css`

### TypeScript Configuration
- Strict mode enabled with additional checks (noUnusedLocals, noUnusedParameters, noFallthroughCasesInSwitch)
- Module resolution: bundler
- Target: ES2022

### Cloudflare Workers Configuration
Deployment is configured via `wrangler.jsonc` with:
- App name: `supchuck`
- Compatibility flags: `nodejs_compat` enabled
- Entry point: `@tanstack/react-start/server-entry`
